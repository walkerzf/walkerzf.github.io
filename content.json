{"meta":{"title":"Zat's Blog","subtitle":"Zat 的自留地","description":"Have fun！","author":"Zhou Fang","url":"https://walkerzf.github.io","root":"/"},"pages":[{"title":"1","date":"2019-12-23T07:07:04.000Z","updated":"2020-10-21T12:08:25.560Z","comments":true,"path":"1/index.html","permalink":"https://walkerzf.github.io/1/index.html","excerpt":"","text":""},{"title":"404 Not Found：该页无法显示","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":false,"path":"/404.html","permalink":"https://walkerzf.github.io/404.html","excerpt":"","text":""},{"title":"关于","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":false,"path":"about/index.html","permalink":"https://walkerzf.github.io/about/index.html","excerpt":"","text":"个人详细介绍"},{"title":"书单","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":false,"path":"books/index.html","permalink":"https://walkerzf.github.io/books/index.html","excerpt":"","text":""},{"title":"分类","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":false,"path":"categories/index.html","permalink":"https://walkerzf.github.io/categories/index.html","excerpt":"","text":""},{"title":"友情链接","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":true,"path":"links/index.html","permalink":"https://walkerzf.github.io/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":false,"path":"repository/index.html","permalink":"https://walkerzf.github.io/repository/index.html","excerpt":"","text":""},{"title":"标签","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":false,"path":"tags/index.html","permalink":"https://walkerzf.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"6.S081 Pgtbl Lab","slug":"PgtblLab","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":true,"path":"2020/10/21/PgtblLab/","link":"","permalink":"https://walkerzf.github.io/2020/10/21/PgtblLab/","excerpt":"","text":"Pgtbl LabIn this lab , we will explore the user page tables and kernel page table ,and modify or create a process’s kernel page table to help simplify the functions that copy data from user space into the kernel space. The lab have three parts. Part 1 is simpler relatively,we need to print the valid pte in three-level page table. Part 2 and 3 can be seen as one part .In part 2 ,we need to copy a process’s page table which is identical to kernel page table ,and in part 3 ,we need to add user mapping to the process’s kernel page table . Part 1 print a page table12345678910111213141516171819202122// Recursively free page-table pages.// All leaf mappings must already have been removed.void freewalk(pagetable_t pagetable)&#123; // there are 2^9 = 512 PTEs in a page table. for (int i = 0; i &lt; 512; i++) &#123; pte_t pte = pagetable[i]; if ((pte &amp; PTE_V) &amp;&amp; (pte &amp; (PTE_R | PTE_W | PTE_X)) == 0) &#123; // this PTE points to a lower-level page table. uint64 child = PTE2PA(pte); freewalk((pagetable_t)child); pagetable[i] = 0; &#125; else if (pte &amp; PTE_V) &#123; panic(\"freewalk: leaf\"); &#125; &#125; kfree((void *)pagetable);&#125;","categories":[{"name":"6.S081","slug":"6-S081","permalink":"https://walkerzf.github.io/categories/6-S081/"}],"tags":[{"name":"Lab","slug":"Lab","permalink":"https://walkerzf.github.io/tags/Lab/"}]},{"title":"Introduction","slug":"hello-world","date":"2020-10-21T12:08:25.560Z","updated":"2020-10-21T12:08:25.560Z","comments":true,"path":"2020/10/21/hello-world/","link":"","permalink":"https://walkerzf.github.io/2020/10/21/hello-world/","excerpt":"","text":"Welcome to Zat’s Blog.My name is Zhou Fang. Education 2015/9~2019/6 | BeiHang University | Electrical Engineering | Bachelor 2019/9~ | ZheJiang University | Electrical Engineering | Master ExperienceLink [Github][https://github.com/walkerzf]","categories":[{"name":"intro","slug":"intro","permalink":"https://walkerzf.github.io/categories/intro/"}],"tags":[{"name":"intro","slug":"intro","permalink":"https://walkerzf.github.io/tags/intro/"}]}],"categories":[{"name":"6.S081","slug":"6-S081","permalink":"https://walkerzf.github.io/categories/6-S081/"},{"name":"intro","slug":"intro","permalink":"https://walkerzf.github.io/categories/intro/"}],"tags":[{"name":"Lab","slug":"Lab","permalink":"https://walkerzf.github.io/tags/Lab/"},{"name":"intro","slug":"intro","permalink":"https://walkerzf.github.io/tags/intro/"}]}